
create table postac(id_postaci int primary key not null auto_increment, nazwa varchar(40) not null, rodzaj enum("wiking", "ptak", "kobieta"), data_ur datetime not null, wiek int not null;
insert into postac values(1, "Bjorn", "wiking", "1945-01-02", 22);
insert into postac values(2, "Drozd", "wiking", "1945-03-10", 25);
insert into postac values(3, "Tesciowa", "wiking", "1920-04-06", 88);




create table walizka(id_walizki int  primary key not null auto_increment, pojemnosc int, kolor enum("rozowy", "czerwony", "teczowy", "zolty"), id_wlasciciela int, foreign key(id_wlasciciela) references postac(id_postaci) on delete cascade);
alter table walizka alter kolor set default 'rozowy';
insert into walizka values(1, 150,"rozowy",1);
insert into walizka values(2, 250,"teczowy",3);


   
create table izba(adres_budynku varchar(200) not null, nazwa_izby varchar(200) not null, metraz int, wlasciciel int, primary key(adres_budynku, nazwa_izby), foreign key(wlasciciel) references postac(id_postaci) on delete set null);
alter table izba add  column kolor varchar(20) after metraz;
alter kolor set default 'czarny';
insert into izba(`adres_budynku`, `nazwa_izby`, `metraz`, `wlasciciel`)  values("Wysoka 11", "Spi¿arnia", 35, 1);



create table przetwory(
  id_przetworu int primary key not null auto_increment,
  rok_produkcji int default 1654,
  id_wykonawcy int,
  zawartosc varchar(40),
  dodatek varchar(40) default "papryczka chilli",
  id_konsumenta int,
  foreign key(id_wykonawcy) references postac(id_postaci),
  foreign key(id_konsumenta) references postac(id_postaci)
);
insert into przetwory(`id_wykonawcy`, `zawartosc`, `id_konsumenta`) values (1, "Bigos z papryczka chilli", 3);




insert into postac(`nazwa`, `rodzaj`, `data_ur`, `wiek`) values("Viking1", "wiking", "1945-01-10", 22);
insert into postac(`nazwa`, `rodzaj`, `data_ur`, `wiek`) values("Viking2", "wiking", "1946-02-10", 23);
insert into postac(`nazwa`, `rodzaj`, `data_ur`, `wiek`) values("Viking3", "wiking", "1947-03-10", 24);
insert into postac(`nazwa`, `rodzaj`, `data_ur`, `wiek`) values("Viking4", "wiking", "1948-04-10", 25);
insert into postac(`nazwa`, `rodzaj`, `data_ur`, `wiek`) values("Viking5", "wiking", "1949-05-10", 26);
create table statek(
  nazwa_statku varchar(20) primary key,
  rodzaj_statku enum("BigStatek", "Galeria", "Koter"),
  data_wodowania datetime,
  max_ladownosc int not null);


insert into statek values("Tytanik", "BigStatek", "1960-01-02", 60);
insert into statek values("Statek", "Koter", "1965-01-03", 65);
alter table postac add column funkcja varchar(30);
update postac set funkcja="kapitan" where nazwa="Bjorn";
alter table postac add column statek varchar(20);
alter table postac add foreign key(statek) references statek(nazwa_statku);

update postac set statek="Tytanik" where id_postaci=1 or id_postaci between 4 and 6;
update postac set statek="Statek" where id_postaci =2 or id_postaci between 7 and 8;
delete from izba where wlasciciel=1;
drop table izba;